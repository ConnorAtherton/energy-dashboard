function draw(){return data[count]?(redraw(data[count]),void count++):clearInterval(interval)}function drawPies(){console.log("drawing pies");c3.generate({data:{bindto:"#pie1",columns:[["data1",30],["data2",120]],type:"pie"}}),c3.generate({data:{bindto:"#pie2",columns:[["data1",30],["data2",120]],type:"pie"}}),c3.generate({data:{bindto:"#pie3",columns:[["data1",30],["data2",120]],type:"pie"}})}function createBubbleChart(){console.log("creating bubble chart");var e=450,n=450,a=d3.format(",d");color=d3.scale.category20c(),bubble=d3.layout.pack().sort(null).size([e,e]).padding(1.5),svg=d3.select("#coolAsFuckTreeContainer").append("svg").attr("width",e).attr("height",n).attr("class","bubble");var r={name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:3938}]},{name:"Fylde",children:[{name:"Fylde",size:2222}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:6785}]},{name:"County",children:[{name:"County",size:989}]},{name:"Pendle",children:[{name:"Pendle",size:3445}]},{name:"Furness",children:[{name:"Furness",size:5647}]},{name:"Cartmel",children:[{name:"Cartmel",size:5847}]},{name:"Graduate",children:[{name:"Graduate",size:3453}]}]},t=svg.selectAll(".node").data(bubble.nodes(classes(r)).filter(function(e){return!e.children})).enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"});t.append("title").text(function(e){return e.className+": "+a(e.value)}),t.append("circle").attr("r",function(e){return e.r}).style("fill",function(e){return console.log("rgb(31, 119, "+e.r+")"),"hsl(106, 100%, "+(100-Math.floor(e.r))+"%)"}),t.append("text").attr("dy",".3em").style("text-anchor","middle").text(function(e){return e.className.substring(0,e.r/3)})}function redraw(e){var n=svg.selectAll(".node").data(bubble.nodes(classes(e)).filter(function(e){return!e.children}));n.enter().append("g").classed("node",!0).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).append("circle").transition(),n.transition().duration(500).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),n.select("circle").transition().duration(500).attr("r",function(e){return e.r}).style("fill",function(e){return console.log("rgb(31, 119, "+e.r+")"),"hsl(106, 100%, "+(100-Math.floor(e.r))+"%)"}),n.append("text").text(function(e){return e.name})}function classes(e){function n(e,r){r.children?r.children.forEach(function(e){n(r.name,e)}):a.push({packageName:e,className:r.name,value:r.size})}var a=[];return console.log("classes func",e),n(null,e),{children:a}}var svg,bubble,count=0,color,interval;$(document).on("ready",function(){"user strict";createBubbleChart(),drawPies(),$(".open-selector").on("click",function(){return console.log("clicked on the button"),"true"===$(this).attr("data-open")?($(this).attr("data-open","false"),$(".selector-box").css("display","none")):($(this).attr("data-open","true"),void $(".selector-box").css({top:$(".open-selector").offset().top,left:$(".open-selector").offset().left,display:"block","-webkit-transform-origin":"27px 382px;"}))}),$(".start-animation").on("click",function(){count=0,interval=setInterval(draw,1e3)}),$(".progress-start").on("click",function(){$(".progress-bar").css("width","90%"),$(".progress-percent").text("90%")})});var data=[{name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:3e3}]},{name:"Fylde",children:[{name:"Fylde",size:3226}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:2967}]},{name:"County",children:[{name:"County",size:4563}]},{name:"Pendle",children:[{name:"Pendle",size:1982}]},{name:"Furness",children:[{name:"Furness",size:5463}]},{name:"Cartmel",children:[{name:"Cartmel",size:1837}]},{name:"Graduate",children:[{name:"Graduate",size:4e3}]}]},{name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:2345}]},{name:"Fylde",children:[{name:"Fylde",size:3456}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:2343}]},{name:"County",children:[{name:"County",size:4532}]},{name:"Pendle",children:[{name:"Pendle",size:2342}]},{name:"Furness",children:[{name:"Furness",size:4345}]},{name:"Cartmel",children:[{name:"Cartmel",size:6574}]},{name:"Graduate",children:[{name:"Graduate",size:2435}]}]},{name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:2643}]},{name:"Fylde",children:[{name:"Fylde",size:1e3}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:3e3}]},{name:"County",children:[{name:"County",size:4e3}]},{name:"Pendle",children:[{name:"Pendle",size:3e3}]},{name:"Furness",children:[{name:"Furness",size:2989}]},{name:"Cartmel",children:[{name:"Cartmel",size:2e3}]},{name:"Graduate",children:[{name:"Graduate",size:1e3}]}]},{name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:2342}]},{name:"Fylde",children:[{name:"Fylde",size:3454}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:2323}]},{name:"County",children:[{name:"County",size:7623}]},{name:"Pendle",children:[{name:"Pendle",size:4362}]},{name:"Furness",children:[{name:"Furness",size:3847}]},{name:"Cartmel",children:[{name:"Cartmel",size:2746}]},{name:"Graduate",children:[{name:"Graduate",size:3652}]}]},{name:"flare",children:[{name:"Bowland",children:[{name:"Bowland",size:2e3}]},{name:"Fylde",children:[{name:"Fylde",size:2343}]},{name:"Lonsdale",children:[{name:"Lonsdale",size:2983}]},{name:"County",children:[{name:"County",size:3245}]},{name:"Pendle",children:[{name:"Pendle",size:2898}]},{name:"Furness",children:[{name:"Furness",size:3423}]},{name:"Cartmel",children:[{name:"Cartmel",size:1999}]},{name:"Graduate",children:[{name:"Graduate",size:2324}]}]}];